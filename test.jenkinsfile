#!groovy

def hostsIPsMap = [
  'QA1': '10.10.10.10',
  'Q2': '20.20.20.20'


]
def SERVER_DEPLOY=null 
SERVER_DEPLOY = hostsIPsMap["$SERVER_DEPLOY"]


pipeline { 
    agent any 
    

    stages {
        stage('Build') { 
            steps { 
                echo 'holahola' 
            }
        }
        stage('Deploy') {
            steps {
              script{
              print "SERVER_DEPLOY : " + SERVER_DEPLOY
               if ("${SERVER_DEPLOY}" == '10.10.10.10') {
                 sh '''
                 echo 'respuesta desde 10.10.10.10'
                 '''
               }
               if ("${SERVER_DEPLOY}" == '20.20.20.20') {
                 sh '''
                 echo 'respuesta desde 20.20.20.20'
                 '''
               } else {
                 sh '''
                 echo 'error'
                 '''
                  }
               }
            }
        }
    } 
}
